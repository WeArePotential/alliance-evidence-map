(function(t){function e(e){for(var n,r,o=e[0],l=e[1],c=e[2],d=0,h=[];d<o.length;d++)r=o[d],a[r]&&h.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,o=1;o<i.length;o++){var l=i[o];0!==a[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},a={app:0},s=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("64a9"),a=i.n(n);a.a},"1bfc":function(t,e,i){"use strict";var n=i("ee6e"),a=i.n(n);a.a},"3b9b":function(t,e,i){},4955:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("6b54"),i("cadf"),i("551c"),i("097d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sans-serif",attrs:{id:"app"}},[i("Sidebar",{attrs:{width:t.sidebarWidth,outcomeInterventionLU:t.filteredOutcomeInterventionLU,selectedCell:t.selectedCell,studiesLU:t.studiesLU,studies:t.studies,filters:t.filters,emphasiseChange:t.emphasiseChange,action:t.action}}),i("ScrollingEvidenceTable",{attrs:{interventions:t.interventions,interventionGroups:t.interventionGroups,outcomes:t.outcomes,outcomeGroups:t.outcomeGroups,outcomeInterventionLU:t.filteredOutcomeInterventionLU,action:t.action,sidebarWidth:t.sidebarWidth,maxStudies:t.maxStudies,selectedCell:t.selectedCell}})],1)},s=[],r=(i("ac6a"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scrollable-table",style:{marginLeft:t.sidebarWidth+"px"}},[i("div",{staticClass:"fixed-corner",style:{left:t.sidebarWidth+"px",width:t.leftHeaderWidth+"px",height:t.topHeaderHeight+"px"}},[i("svg",{attrs:{width:t.leftHeaderWidth,height:t.topHeaderHeight}},[i("g",{attrs:{transform:"translate(5, 160)"}},[i("g",{attrs:{transform:"translate(0, 0)"}},[i("rect",{staticStyle:{fill:"#23844e",opacity:"0.3"},attrs:{x:"12.658227848101262",width:"24.050632911392405",y:"-10",height:"10"}}),i("rect",{staticStyle:{fill:"#23844e",opacity:"0.6"},attrs:{x:"37.974683544303794",width:"24.050632911392405",y:"-27.428571428571427",height:"27.428571428571427"}}),i("rect",{staticStyle:{fill:"#23844e",opacity:"1"},attrs:{x:"63.291139240506325",width:"24.050632911392405",y:"-4.571428571428571",height:"4.571428571428571"}}),i("line",{attrs:{x1:"10",x2:"90"}}),i("rect",{staticStyle:{fill:"#e52e78",opacity:"0.3"},attrs:{x:"12.658227848101262",width:"24.050632911392405",y:"0",height:"14.571428571428571"}}),i("rect",{staticStyle:{fill:"#e52e78",opacity:"0.6"},attrs:{x:"37.974683544303794",width:"24.050632911392405",y:"0",height:"19.142857142857142"}}),i("rect",{staticStyle:{fill:"#e52e78",opacity:"1"},attrs:{x:"63.291139240506325",width:"24.050632911392405",y:"0",height:"8"}})]),i("g",{attrs:{fill:"#23844e",transform:"translate(0, -18)"}},[i("text",{attrs:{x:"95"}},[t._v("Evidence supporting")]),i("text",{attrs:{x:"95",y:"13"}},[t._v("the intervention")])]),i("g",{attrs:{fill:"#e52e78",transform:"translate(0, 15)"}},[i("text",{attrs:{x:"95"}},[t._v("Evidence not supporting")]),i("text",{attrs:{x:"95",y:"13"}},[t._v("the intervention")])]),i("g",{attrs:{transform:"translate(28,-40)"}},[i("text",{staticStyle:{opacity:"0.4"},attrs:{transform:"rotate(-90)"}},[t._v("Low quality evidence")])]),i("g",{attrs:{transform:"translate(54,-40)"}},[i("text",{staticStyle:{opacity:"0.7"},attrs:{transform:"rotate(-90)"}},[t._v("Moderate quality")])]),i("g",{attrs:{transform:"translate(80,-40)"}},[i("text",{attrs:{transform:"rotate(-90)"}},[t._v("High quality evidence")])])])])]),i("div",{staticClass:"fixed-row",style:{left:t.sidebarWidth+"px"}},[i("div",{staticClass:"headers"},t._l(t.interventionHeaders,function(e){return i("div",{staticClass:"header-container",style:{left:-t.innerOffsetX+e.x+"px"}},[i("svg",{attrs:{height:t.categoryWidth,width:e.size-3}},[i("text",{attrs:{transform:"translate("+.5*e.size+", 18)"}},[t._v(t._s(e.label))]),i("title",[t._v(t._s(e.name))])])])})),i("div",{staticClass:"interventions"},t._l(t.groupedInterventions,function(e,n){return i("div",{staticClass:"fixed-row-cell",style:{left:-t.innerOffsetX+t.leftHeaderWidth+n*t.cellWidth+"px",top:t.categoryWidth+"px",width:t.cellWidth+"px",height:t.topHeaderHeight-t.categoryWidth+"px",backgroundColor:t.selectedCell.intervention===e?"#999":null}},[i("div",{staticClass:"b"},[t._v(t._s(e))])])}))]),i("div",{staticClass:"fixed-col",style:{left:t.sidebarWidth+"px"}},[i("div",{staticClass:"headers"},t._l(t.outcomeHeaders,function(e){return i("div",{staticClass:"header-container",style:{top:-t.innerOffsetY+e.y+"px"}},[i("svg",{attrs:{width:t.categoryWidth,height:e.size-3}},[i("text",{attrs:{transform:"rotate(-90)translate("+-.5*e.size+", 18)"}},[t._v(t._s(e.name))]),i("title",[t._v(t._s(e.name))])])])})),i("div",{staticClass:"outcomes"},t._l(t.groupedOutcomes,function(e,n){return i("div",{staticClass:"fixed-col-cell",style:{top:-t.innerOffsetY+t.topHeaderHeight+n*t.cellHeight+"px",left:t.categoryWidth+"px",width:t.leftHeaderWidth-t.categoryWidth+"px",height:t.cellHeight+"px",backgroundColor:t.selectedCell.outcome===e?"#ddd":null}},[i("div",{staticClass:"b"},[t._v(t._s(e))])])}))]),i("div",{staticClass:"grid-wrapper"},[i("div",{staticClass:"grid-inner",style:{left:t.leftHeaderWidth+"px",top:t.topHeaderHeight+"px"}},[t.outcomeGroups.length>0?i("svg",{attrs:{width:t.numCols*t.cellWidth,height:t.numRows*t.cellHeight},on:{click:function(e){t.action("selectCell",{outcome:null,intervention:null})}}},[i("g",{staticClass:"cells"},t._l(t.groupedOutcomes,function(e,n){return i("g",{attrs:{transform:"translate(0, "+n*t.cellHeight+")"}},t._l(t.groupedInterventions,function(n,a){return i("g",{attrs:{transform:"translate("+a*t.cellWidth+", 0)"},on:{click:function(i){i.stopPropagation(),t.action("selectCell",{outcome:e,intervention:n})}}},[i("Barchart",{attrs:{data:t.outcomeInterventionLU[e][n],width:t.cellWidth,height:t.cellHeight,maxStudies:t.maxStudies,selected:t.selectedCell.outcome===e&&t.selectedCell.intervention===n}})],1)}))})),i("g",{staticClass:"grid-lines"},[t._l(t.groupedOutcomes,function(e,n){return i("g",{attrs:{transform:"translate(0, "+n*t.cellHeight+")"}},[i("line",{staticClass:"grid-line",attrs:{x2:t.numCols*t.cellWidth}})])}),t._l(t.groupedInterventions,function(e,n){return i("g",{attrs:{transform:"translate("+n*t.cellWidth+")"}},[i("line",{staticClass:"grid-line",attrs:{y2:t.numRows*t.cellHeight}})])})],2)]):t._e()])])])}),o=[],l=(i("7f7f"),i("c5f6"),i("2f9b"),i("d9fb"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("g",[i("rect",{staticClass:"background",style:{fill:t.selected?"#ddd":null},attrs:{width:t.width,height:t.height}}),t.nonZero?i("g",{staticClass:"cell"},[i("g",{attrs:{transform:"translate(0, "+.5*t.height+")"}},[t._l(t.positiveBars,function(t){return i("rect",{style:{fill:"#23844e",opacity:t.opacity},attrs:{x:t.x,width:t.width,y:t.y,height:t.height}})}),i("line",{attrs:{x1:"10",x2:t.width-10}}),t._l(t.negativeBars,function(t){return i("rect",{style:{fill:"#e52e78",opacity:t.opacity},attrs:{x:t.x,width:t.width,y:t.y,height:t.height}})})],2)]):t._e()])}),c=[],u=i("e236"),d={name:"Barchart",props:{data:Object,width:Number,height:Number,maxStudies:Number,selected:Boolean},computed:{nonZero:function(){return this.data.for.low.length+this.data.for.moderate.length+this.data.for.high.length+this.data.against.low.length+this.data.against.moderate.length+this.data.against.high.length>0},positiveBars:function(){var t=Object(u["b"])().domain([0,this.maxStudies]).range([0,.4*this.height]),e=Object(u["a"])().domain([0,1,2]).range([0,this.width]).paddingInner(.05).paddingOuter(.5);return[{x:e(0),width:e.bandwidth(),y:-t(this.data.for.low.length),height:t(this.data.for.low.length),opacity:.3},{x:e(1),width:e.bandwidth(),y:-t(this.data.for.moderate.length),height:t(this.data.for.moderate.length),opacity:.6},{x:e(2),width:e.bandwidth(),y:-t(this.data.for.high.length),height:t(this.data.for.high.length),opacity:1}]},negativeBars:function(){var t=Object(u["b"])().domain([0,this.maxStudies]).range([0,.4*this.height]),e=Object(u["a"])().domain([0,1,2]).range([0,this.width]).paddingInner(.05).paddingOuter(.5);return[{x:e(0),width:e.bandwidth(),y:0,height:t(this.data.against.low.length),opacity:.3},{x:e(1),width:e.bandwidth(),y:0,height:t(this.data.against.moderate.length),opacity:.6},{x:e(2),width:e.bandwidth(),y:0,height:t(this.data.against.high.length),opacity:1}]}}},h=d,f=(i("1bfc"),i("2877")),p=Object(f["a"])(h,l,c,!1,null,"08840312",null);p.options.__file="Barchart.vue";var v=p.exports,g={name:"ScrollingEvidenceTable",components:{Barchart:v},props:{outcomes:Array,interventions:Array,interventionGroups:Array,outcomeGroups:Array,outcomeInterventionLU:Object,action:Function,sidebarWidth:Number,maxStudies:Number,selectedCell:Object},data:function(){return{topHeaderHeight:200,leftHeaderWidth:240,categoryWidth:28,innerOffsetX:0,innerOffsetY:0,cellWidth:100,cellHeight:80}},computed:{numRows:function(){return this.outcomes?this.outcomes.length:0},numCols:function(){return this.interventions.length},outcomeHeaders:function(){var t=this,e=this.topHeaderHeight,i=[];return this.outcomeGroups.forEach(function(n){var a=n.size*t.cellHeight;i.push({name:n.name.toUpperCase(),size:a,y:e}),e+=a}),i},groupedOutcomes:function(){var t=[];return this.outcomeGroups.forEach(function(e){t=t.concat(e.items)}),t},interventionHeaders:function(){var t=this,e=this.leftHeaderWidth,i=[];return this.interventionGroups.forEach(function(n){var a=n.size*t.cellWidth,s=n.name.toUpperCase(),r=s,o=a/11;s.length>o&&(r=s.slice(0,o)+"..."),i.push({name:s,label:r,size:a,x:e}),e+=a}),i},groupedInterventions:function(){var t=[];return this.interventionGroups.forEach(function(e){t=t.concat(e.items)}),t}},mounted:function(){var t=this;window.addEventListener("scroll",function(){t.innerOffsetX=window.pageXOffset,t.innerOffsetY=window.pageYOffset})}},m=g,y=(i("ea80"),Object(f["a"])(m,r,o,!1,null,"68a58773",null));y.options.__file="ScrollingEvidenceTable.vue";var b=y.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{width:t.width+"px"},attrs:{id:"sidebar"}},[t._m(0),i("div",{staticClass:"heading"},[t._v("FILTER")]),i("FilterMenu",{attrs:{studies:t.studies,action:t.action,filters:t.filters}}),null!==t.selectedCell.intervention?i("div",{staticClass:"info"},[i("div",{staticClass:"section selected-intervention"},[i("div",{staticClass:"heading"},[t._v("SELECTED INTERVENTION")]),i("div",{staticClass:"content"},[t._v(t._s(t.selectedCell.intervention))])]),i("div",{staticClass:"section selected-outcome"},[i("div",{staticClass:"heading"},[t._v("SELECTED OUTCOME")]),i("div",{staticClass:"content"},[t._v(t._s(t.selectedCell.outcome))])]),i("div",{staticClass:"section"},[i("div",{class:{heading:!0,animated:t.emphasiseChange,infinite:t.emphasiseChange,flash:t.emphasiseChange}},[t._v("STUDIES ("+t._s(t.numFoundStudies)+" found)")]),i("div",{staticClass:"study-groups"},[i("StudyList",{attrs:{title:"Strong evidence (for)",ids:t.studyGroups.for.high,studiesLU:t.studiesLU}}),i("StudyList",{attrs:{title:"Moderate evidence (for)",ids:t.studyGroups.for.moderate,studiesLU:t.studiesLU}}),i("StudyList",{attrs:{title:"Low evidence (for)",ids:t.studyGroups.for.low,studiesLU:t.studiesLU}}),i("StudyList",{attrs:{title:"Strong evidence (against)",ids:t.studyGroups.against.high,studiesLU:t.studiesLU}}),i("StudyList",{attrs:{title:"Moderate evidence (against)",ids:t.studyGroups.against.moderate,studiesLU:t.studiesLU}}),i("StudyList",{attrs:{title:"Low evidence (against)",ids:t.studyGroups.against.low,studiesLU:t.studiesLU}})],1)])]):t._e()],1)},_=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section header"},[i("div",{staticClass:"banner"},[i("h3",{},[t._v("Frontline AIDS Evidence map of community action on HIV, health and rights")])]),i("div",{staticClass:"description"},[i("p",[t._v("This evidence map lets you explore the evidence generated by Frontline AIDS and our partners on key HIV, health and human rights interventions (horizontal axis) and outcomes (vertical axis).")]),i("p",[t._v("For more information on how the map was created and how to use it, read the "),i("a",{attrs:{href:"docs/User Guide.pdf"}},[t._v("User Guide")]),t._v(". If you have questions please email: "),i("a",{attrs:{href:"mailto:evidencemap@frontlineaids.org"}},[t._v("evidencemap@frontlineaids.org")])])])])}],x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"filter-menu"}},[i("div",[i("div",{staticClass:"filter",staticStyle:{width:"100%"}},[i("div",{staticClass:"label"},[t._v("Region")]),i("multiselect",{attrs:{options:t.regions,multiple:!0,searchable:!1,"hide-selected":!0,placeholder:"Select region(s)"},model:{value:t.filters.regions,callback:function(e){t.$set(t.filters,"regions",e)},expression:"filters.regions"}})],1)]),i("div",[i("div",{staticClass:"filter",staticStyle:{width:"100%"}},[i("div",{staticClass:"label"},[t._v("Country")]),i("multiselect",{attrs:{options:t.countries,multiple:!0,searchable:!1,"hide-selected":!0,placeholder:"Select country(s)"},model:{value:t.filters.countries,callback:function(e){t.$set(t.filters,"countries",e)},expression:"filters.countries"}})],1)]),i("div",[i("div",{staticClass:"filter",staticStyle:{width:"100%"}},[i("div",{staticClass:"label"},[t._v("Population")]),i("multiselect",{attrs:{options:t.populations,multiple:!0,searchable:!1,"hide-selected":!0,placeholder:"Select population(s)"},model:{value:t.filters.population,callback:function(e){t.$set(t.filters,"population",e)},expression:"filters.population"}})],1)]),i("div",[i("div",{staticClass:"filter",staticStyle:{width:"100%"}},[i("div",{staticClass:"label"},[t._v("Strength of evidence")]),i("multiselect",{attrs:{options:t.evidenceStrengths,multiple:!0,searchable:!1,"hide-selected":!0,placeholder:"Select strength(s) of evidence"},model:{value:t.filters.strengthOfEvidence,callback:function(e){t.$set(t.filters,"strengthOfEvidence",e)},expression:"filters.strengthOfEvidence"}})],1)]),i("div",{staticClass:"filter"},[i("div",{staticClass:"label"},[t._v("Internal / External")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.internalExternal,expression:"filters.internalExternal"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters,"internalExternal",e.target.multiple?i:i[0])}}},t._l(t.internalExternalTypes,function(e){return i("option",{key:e},[t._v(t._s(e))])}))]),i("div",{staticClass:"reset-button",on:{click:function(e){t.resetFilter()}}},[t._v("Reset filter")])])},w=[],S=(i("55dd"),i("eed6")),E=i.n(S),O=i("8e5f"),L=i.n(O),I=(i("456d"),{"Latin America":["Argentina","Belize","Bolivia","Brazil","Chile","Colombia","Costa Rica","Ecuador","El Salvador","Guyana","Guatemala","Honduras","Nicaragua","Panama","Paraguay","Peru","Suriname","Uruguay","Venezuela"],Caribbean:["Antigua and Barbuda","Bahamas","Barbados","Cuba","Dominica","Dominican Republic","Grenada","Guadeloupe","Haiti","Jamaica","Martinique","Puerto Rico","Saint Barthélemy","Saint Christopher and Nevis","Saint Lucia","Saint Martin","Saint Vincent and the Grenadines","Trinidad and Tobago"],"Eastern Europe and Central Asia":["Albania","Armenia","Azerbaijan","Belarus","Bosnia and Herzegovina","Bulgaria","Croatia","Estonia","Georgia","Kazakhstan","Kosovo","Kyrgyzstan","Latvia","Lithuania","Macedonia","Moldova","Montenegro","Romania","Russia","Serbia","Tajikistan","Turkmenistan","Ukraine","Uzbekistan"],"Asia and the Pacific":["Afghanistan","American Samoa","Australia","Bangladesh","Bhutan","Brunei Darussalam","Cambodia","China","Christmas Island","Cocos (Keeling) Islands","Cook Islands","Federated States of Micronesia","Fiji","French Polynesia","Guam","India","Indonesia","Japan","Kiribati","Laos","Macau","Malaysia","Maldives","Marshal Islands","Mongolia","Myanmar","Nauru","Nepal","New Caledonia","New Zealand","Niue","Norfolk Island","North Korea","Nortern Mariana Islands","Pakistan","Palau","Papua New Guinea","Philippines","Pitcairn Islands","Samoa","Singapore","Solomon Islands","South Korea","Sri Lanka","Taiwan","Thailand","Timor-Leste","Tokelau","Tonga","Tuvalu","Vanuatu","Vietnam","Wallis and Futuna"],"Middle East and North Africa":["Algeria","Egypt","Libya","Morocco","Mauritania","Sudan","Tunisia","Bahrain","Djibouti","Iraq","Israel","Jordan","Kuwait","Lebanon","Oman","Palestine","Qatar","Saudi Arabia","Syria","Turkey","United Arab Emirates","Yemen"],"Western and Central Africa":["Benin","Burkina Faso","Ivory Coast","Cape Verde","Gambia","Ghana","Guinea","Guinea-Bissau","Liberia","Mali","Mauritania","Niger","Nigeria","Senegal","Sierra Leone and Togo","Angola","Cameroon","Central African Republic","Chad","Democratic Republic of the Congo","Equatorial Guinea","Gabon","Republic of the Congo","São Tomé and Príncipe"],"Eastern and Southern Africa":["Burundi","Tanzania","Kenya","Uganda","Rwanda","Eritrea","Ethiopia","Somalia","Mozambique","Madagascar","Malawi","Zambia","Zimbabwe","Comoros","Mauritius","Seychelles","Reunion","Mayotte","South Sudan","Botswana","Eswatini","Lesotho","Namibia","South Africa"],"Western and Central Europe and North America":["Austria","Belgium","Cyprus","Czech Republic","Denmark","Finland","France","Germany","Greece","Hungary","Iceland","Ireland","Italy","Luxembourg","Malta","The Netherlands","Norway","Poland","Portugal","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","USA","Canada","Mexico"]}),U={},A=[];function G(){Object.keys(I).forEach(function(t){var e=I[t];e.forEach(function(e){U[e]=t})})}function k(){A=Object.keys(I),A.sort()}G(),k();var H={name:"FilterMenu",components:{Multiselect:L.a},props:{studies:Array,filters:Object,action:Function},data:function(){return{}},methods:{resetFilter:function(){this.action("resetFilter")}},computed:{regions:function(){return A},countries:function(){var t=[];return this.studies.forEach(function(e){e.countries.forEach(function(e){""!==e&&t.push(e)})}),t=E()(t),t.sort(),t},populations:function(){var t=[];return this.studies.forEach(function(e){e.population.forEach(function(e){""!==e&&t.push(e)})}),t=E()(t),t.sort(),t},internalExternalTypes:function(){return["All","Internal","External"]},evidenceStrengths:function(){var t=["low","moderate","high"];return t}}},M=H,T=(i("60bc"),i("cd06"),i("ce97"),Object(f["a"])(M,x,w,!1,null,"7f1476d8",null));T.options.__file="FilterMenu.vue";var j=T.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.ids.length>0?i("div",{staticClass:"study-list"},[i("div",{staticClass:"dim",on:{click:t.handleClick}},[i("div",{staticClass:"heading noselect"},[i("span",[t.open?i("span",[t._v("-")]):i("span",[t._v("+")])]),i("span",[t._v(" "+t._s(t.title)+" "),i("span",{staticClass:"num-studies"},[t._v("("+t._s(t.ids.length)+" "),1===t.ids.length?i("span",[t._v("study")]):i("span",[t._v("studies")]),t._v(")")])])])]),t.open?i("div",{staticClass:"studies"},t._l(t.ids,function(e){return i("StudyDetail",{attrs:{study:t.studiesLU[e]}})})):t._e()]):t._e()},B=[],N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"study"},[i("div",{staticClass:"section title serif"},[t._v(t._s(t.study.title))]),i("div",{staticClass:"field"},[i("span",[t._v("Authors:")]),t._v(" "+t._s(t.study.authors))]),i("div",{staticClass:"field"},[i("span",[t._v("Organisations:")]),t._v(" "+t._s(t.study.orgsInvolved))]),i("div",{staticClass:"field"},[i("span",[t._v("Publication date:")]),t._v(" "+t._s(t.study.date))]),i("div",{staticClass:"summary serif"},[t.expanded?i("div",{domProps:{innerHTML:t._s(t.sanitisedSummary)}}):i("div",[i("span",{domProps:{innerHTML:t._s(t.sanitisedSummary.slice(0,200))}}),i("span",[t._v("...")])])]),t.expanded?i("div",{staticClass:"field"},[i("span",[t._v("Link:")]),i("a",{staticClass:"dim",attrs:{href:t.study.url,target:"_blank"}},[t._v(" "+t._s(t.study.url))])]):t._e(),t.expanded?i("div",{staticClass:"field"},[i("span",[t._v("Country:")]),t._v(" "+t._s(t.study.countries.join(", ")))]):t._e(),t.expanded?i("div",{staticClass:"field"},[i("span",[t._v("Population:")]),t._v(" "+t._s(t.study.population.join(", ")))]):t._e(),i("div",{staticClass:"expand-button noselect dim",on:{click:t.handleClick}},[t.expanded?i("span",[t._v("Less")]):i("span",[t._v("More")])])])},P=[],z=i("07d2"),F=i.n(z),R={name:"StudyDetail",props:{study:Object},data:function(){return{expanded:!1}},methods:{handleClick:function(){this.expanded=!this.expanded}},computed:{sanitisedSummary:function(){return F()(this.study.summary,["p","a"])}}},D=R,$=(i("963f"),Object(f["a"])(D,N,P,!1,null,"1a31b004",null));$.options.__file="StudyDetail.vue";var K=$.exports,q={name:"StudyList",components:{StudyDetail:K},props:{title:String,ids:Array,studiesLU:Array},data:function(){return{open:!1}},methods:{handleClick:function(){this.open=!this.open}}},V=q,Y=(i("af37"),Object(f["a"])(V,W,B,!1,null,"47900622",null));Y.options.__file="StudyList.vue";var X=Y.exports,J={name:"Sidebar",components:{FilterMenu:j,StudyList:X},props:{width:Number,outcomeInterventionLU:Object,selectedCell:Object,studiesLU:Array,studies:Array,filters:Object,emphasiseChange:Boolean,action:Function},computed:{studyGroups:function(){return this.outcomeInterventionLU[this.selectedCell.outcome][this.selectedCell.intervention]},numFoundStudies:function(){var t=this.studyGroups.for.high.length+this.studyGroups.for.moderate.length+this.studyGroups.for.low.length+this.studyGroups.against.high.length+this.studyGroups.against.moderate.length+this.studyGroups.against.low.length;return t}}},Z=J,Q=(i("9f8d"),Object(f["a"])(Z,C,_,!1,null,"6c06be6c",null));Q.options.__file="Sidebar.vue";var tt=Q.exports,et=i("0d16"),it=i("9380"),nt=i.n(it),at=(i("28a5"),i("8a30")),st=i.n(at),rt=i("d173"),ot=i.n(rt);function lt(t){var e=t.map(function(t){return t.Outcome});return e}function ct(t){var e=t.map(function(t){return t.Intervention});return e}function ut(t){var e={};return t.forEach(function(t){e[t.Code]=t.Outcome}),e}function dt(t){var e={};return t.forEach(function(t){e[t.Code]=t.Intervention}),e}function ht(t,e,i){var n=[],a=dt(t),s=ut(e);return i.forEach(function(t,e){var i={id:e,title:t.Title,summary:t.Summary,orgsInvolved:t["Orgs involved"],date:t.Date,url:t.Link,forAgainstEvidence:"Y"===t["Evidence against the intervention?"][0].toUpperCase()?"against":"for",strengthOfEvidence:t["Strength of Evidence"].toLowerCase(),internalExternal:"IN"===t["Internal / External"].toUpperCase().slice(0,2)?"Internal":"EX"===t["Internal / External"].toUpperCase().slice(0,2)?"External":"Unknown"},r=t.Population.split(";");r=r.map(function(t){return t.trim()}),i.population=r;var o=t.Country.split(";");o=o.map(function(t){return t.trim()}),i.countries=o;var l=i.countries.map(function(t){var e=U[t];return e||console.warn("No region for",t),e});i.regions=E()(l);var c=t.Interventions.split(";");c=c.map(function(t){return a[+t]}),i.interventions=c;var u=t.Outcomes.split(";");u=u.map(function(t){return s[+t]}),i.outcomes=u,n.push(i)}),n}function ft(t){var e=[];return t.forEach(function(t){e[t.id]=t}),e}function pt(t,e,i){var n={};return e.forEach(function(e){n[e]={},t.forEach(function(t){n[e][t]={for:{low:[],moderate:[],high:[]},against:{low:[],moderate:[],high:[]}}})}),i.forEach(function(t){var e="against"===t.forAgainstEvidence,i=t.strengthOfEvidence;t.outcomes.forEach(function(a){t.interventions.forEach(function(s){e?n[a][s].against[i].push(t.id):n[a][s].for[i].push(t.id)})})}),n}function vt(t){var e=t.map(function(t){return t.Category});e=E()(e);var i=[];return e.forEach(function(e){var n={name:e,items:[]},a=nt()(t,function(t){return t.Category===e});a.forEach(function(t){n.items.push(t.Outcome)}),n.size=n.items.length,i.push(n)}),i}function gt(t){var e=t.map(function(t){return t.Category});e=E()(e);var i=[];return e.forEach(function(e){var n={name:e,items:[]},a=nt()(t,function(t){return t.Category===e});a.forEach(function(t){n.items.push(t.Intervention)}),n.size=n.items.length,i.push(n)}),i}function mt(t,e,i){var n=0;return e.forEach(function(e){t.forEach(function(t){var a=i[e][t],s=Math.max(a.for.high.length,a.for.moderate.length,a.for.low.length,a.against.high.length,a.against.moderate.length,a.against.low.length);s>n&&(n=s)})}),n}function yt(t,e){var i=nt()(t,function(t){var i=!0;return e.filterIds.forEach(function(n,a){var s="multi"===e.filterType[a];"All"===e[n]||s&&0===e[n].length||("regions"===n||"countries"===n||"population"===n?0===ot()(t[n],e[n]).length&&(i=!1):"strengthOfEvidence"===n?st()(e[n],t[n])||(i=!1):t[n]!==e[n]&&(i=!1))}),i});return i}var bt={name:"app",components:{Sidebar:tt,ScrollingEvidenceTable:b},data:function(){return{outcomes:[],outcomeGroups:[],interventions:[],interventionGroups:[],studies:[],studiesLU:[],outcomeInterventionLU:{},maxStudies:0,sidebarWidth:400,selectedCell:{intervention:null,outcome:null},emphasiseChange:!1,filters:{filterIds:["regions","countries","population","internalExternal","strengthOfEvidence"],filterType:["multi","multi","multi","single","multi"],regions:[],countries:[],population:[],strengthOfEvidence:[],internalExternal:"All",forAgainstEvidence:"All"}}},mounted:function(){var t=this;Object(et["a"])("data/interventions.csv?3",function(e,i){Object(et["a"])("data/outcomes.csv?3",function(e,n){Object(et["a"])("data/evidence-map.csv?3",function(e,a){i=nt()(i,function(t){return t.Intervention}),n=nt()(n,function(t){return t.Outcome}),a=nt()(a,function(t){return t.Title}),a=nt()(a,function(t){return t.Eligibility&&"Y"===t.Eligibility[0].toUpperCase()}),t.outcomes=lt(n),t.outcomeGroups=vt(n),t.interventions=ct(i),t.interventionGroups=gt(i),t.studies=ht(i,n,a),t.studiesLU=ft(t.studies),t.outcomeInterventionLU=pt(t.interventions,t.outcomes,t.studies),t.maxStudies=mt(t.interventions,t.outcomes,t.outcomeInterventionLU)})})})},computed:{filteredOutcomeInterventionLU:function(){var t=yt(this.studies,this.filters);return pt(this.interventions,this.outcomes,t)}},methods:{action:function(t,e){var i=this;switch(t){case"selectCell":this.selectedCell=e,this.setEmphasiseChange();break;case"resetFilter":this.filters.filterIds.forEach(function(t,e){return i.filters[t]="single"===i.filters.filterType[e]?"All":[]});break;default:console.log("Unknown action",t)}},setEmphasiseChange:function(){var t=this;this.emphasiseChange=!0,window.setTimeout(function(){t.emphasiseChange=!1},3e3)}},watch:{filters:{handler:function(){this.setEmphasiseChange()},deep:!0}}},Ct=bt,_t=(i("034f"),Object(f["a"])(Ct,a,s,!1,null,null,null));_t.options.__file="App.vue";var xt=_t.exports;n["a"].config.productionTip=!1,n["a"].filter("capitalize",function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}),new n["a"]({render:function(t){return t(xt)}}).$mount("#app")},"64a9":function(t,e,i){},7851:function(t,e,i){},"963f":function(t,e,i){"use strict";var n=i("7851"),a=i.n(n);a.a},"9f8d":function(t,e,i){"use strict";var n=i("4955"),a=i.n(n);a.a},a6cb:function(t,e,i){},af37:function(t,e,i){"use strict";var n=i("3b9b"),a=i.n(n);a.a},cd06:function(t,e,i){"use strict";var n=i("e66b"),a=i.n(n);a.a},ce97:function(t,e,i){"use strict";var n=i("a6cb"),a=i.n(n);a.a},e4c0:function(t,e,i){},e66b:function(t,e,i){},ea80:function(t,e,i){"use strict";var n=i("e4c0"),a=i.n(n);a.a},ee6e:function(t,e,i){}});
//# sourceMappingURL=app.d44f89df.js.map